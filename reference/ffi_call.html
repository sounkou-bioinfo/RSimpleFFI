<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Make FFI function call — ffi_call • RSimpleFFI</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make FFI function call — ffi_call"><meta name="description" content="Call a C function through the FFI interface."><meta property="og:description" content="Call a C function through the FFI interface."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RSimpleFFI</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sounkou-bioinfo/RSimpleFFI/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Make FFI function call</h1>
      <small class="dont-index">Source: <a href="https://github.com/sounkou-bioinfo/RSimpleFFI/blob/main/R/01-functions.R" class="external-link"><code>R/01-functions.R</code></a></small>
      <div class="d-none name"><code>ffi_call.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Call a C function through the FFI interface.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ffi_call</span><span class="op">(</span><span class="va">cif</span>, <span class="va">symbol</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cif">cif<a class="anchor" aria-label="anchor" href="#arg-cif"></a></dt>
<dd><p>CIF object defining the call interface</p></dd>


<dt id="arg-symbol">symbol<a class="anchor" aria-label="anchor" href="#arg-symbol"></a></dt>
<dd><p>NativeSymbol or character name of function</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments to pass to the function (including <code>na_check</code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The return value from the C function, converted to an R type</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The method implementations accept an additional <code>na_check</code> argument (logical,
default TRUE). When TRUE, the function checks for NA values in arguments and
errors if found. Set to FALSE to skip NA checking for better performance
(at your own risk).</p><div class="section">
<h3 id="error-handling-limitations">Error Handling Limitations<a class="anchor" aria-label="anchor" href="#error-handling-limitations"></a></h3>


<p><strong>Important:</strong> libffi provides no error handling for the actual C function call.
If the called C function crashes (segmentation fault, illegal instruction,
abort, etc.), R itself will crash. This is a fundamental limitation of FFI</p><ul><li><p>there is no portable way to catch such errors in C code.</p></li>
</ul><p>Before making FFI calls, ensure:</p><ul><li><p>The function pointer is valid (not NULL, points to executable code)</p></li>
<li><p>All pointer arguments are valid (use <code><a href="ffi_is_null.html">ffi_is_null</a></code> to check)</p></li>
<li><p>Array/buffer sizes are correct - buffer overruns cause undefined behavior</p></li>
<li><p>The CIF signature exactly matches the C function's signature</p></li>
<li><p>Struct layouts match between R types and C (check alignment/padding)</p></li>
</ul><p>For debugging crashes:</p><ul><li><p>Run R under a debugger: <code>R -d gdb</code></p></li>
<li><p>Enable core dumps: <code>ulimit -c unlimited</code></p></li>
<li><p>Use address sanitizers when building the library being called</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="ffi_is_null.html">ffi_is_null</a></code> for checking pointer validity</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sounkou Mahamane Toure.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

