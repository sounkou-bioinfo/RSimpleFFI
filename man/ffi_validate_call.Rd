% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R
\name{ffi_validate_call}
\alias{ffi_validate_call}
\title{Validate FFI call prerequisites}
\usage{
ffi_validate_call(cif, symbol, args = list(), verbose = FALSE)
}
\arguments{
\item{cif}{CIF object defining the call interface}

\item{symbol}{NativeSymbol object for the function}

\item{args}{List of arguments to pass}

\item{verbose}{Logical; if TRUE, print diagnostic information}
}
\value{
A list with validation results:
\describe{
\item{valid}{Logical; TRUE if all checks pass}
\item{errors}{Character vector of error messages (empty if valid)}
\item{warnings}{Character vector of warning messages}
}
}
\description{
Performs comprehensive validation of FFI call inputs before making the call.
This helps diagnose issues that would otherwise cause crashes.
}
\details{
This function checks:
\itemize{
\item CIF and symbol pointers are not NULL
\item Argument count matches CIF specification
\item No NA values in arguments (unless explicitly allowed)
\item Pointer arguments are not NULL (when applicable)
}

Note that even with all checks passing, crashes can still occur if:
\itemize{
\item The C function signature doesn't match the CIF
\item Pointer arguments point to invalid memory
\item Buffer sizes are incorrect
\item The C function itself has bugs
}
}
\examples{
\dontrun{
cif <- ffi_cif(ffi_int(), ffi_int(), ffi_int())
sym <- ffi_symbol("add_ints")
result <- ffi_validate_call(cif, sym, list(1L, 2L))
if (result$valid) {
  ffi_call(cif, sym, 1L, 2L)
}
}
}
