% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bitfield_helpers.R
\name{ffi_create_bitfield_accessors}
\alias{ffi_create_bitfield_accessors}
\title{Create accessor functions for a bit-field structure}
\usage{
ffi_create_bitfield_accessors(field_specs, base_type = ffi_uint32())
}
\arguments{
\item{field_specs}{Named list where names are field names and values are
bit widths (integers)}

\item{base_type}{FFI type for the packed representation (default: ffi_uint32())}
}
\value{
List with \code{pack}, \code{unpack}, \code{get}, and \code{set} functions
}
\description{
Generates getter and setter functions for a C structure with bit-fields,
allowing easy manipulation of packed bit-field values.
}
\examples{
# Define a bit-field structure
# C equivalent:
# struct Flags {
#   unsigned int enabled : 1;
#   unsigned int mode : 3;
#   unsigned int priority : 4;
# };

flags_accessors <- ffi_create_bitfield_accessors(
  list(enabled = 1L, mode = 3L, priority = 4L)
)

# Pack values
packed <- flags_accessors$pack(list(enabled = 1L, mode = 5L, priority = 12L))

# Unpack to list
flags_accessors$unpack(packed)
# $enabled:  1
# $mode:     5
# $priority: 12

# Get a single field
flags_accessors$get(packed, "mode")  # 5

# Set a single field
new_packed <- flags_accessors$set(packed, "mode", 7L)
flags_accessors$get(new_packed, "mode")  # 7

}
